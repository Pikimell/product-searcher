import{l as s,s as m}from"./assets/helpers-0f358616.js";import{v as h}from"./assets/vendor-848d50a8.js";const r=s("user-data")||[];let u=s("editId"),d=null;const a={form:document.querySelector(".js-product-form")};function v(){if(window.addEventListener("keydown",g),!u){a.form.addEventListener("submit",b);return}d=r.findIndex(e=>e.id===u),f(u),a.form.elements.btn.textContent="Save Changes",a.form.addEventListener("submit",p)}function f(e){a.form.reset();const n=r.find(t=>t.id===e);if(n){for(const[t,o]of Object.entries(n))a.form.elements[t]&&(a.form.elements[t].value=o);a.form.elements.youtube_media.checked=n.youtube_media==="Checked",i(a.form.elements.source,n.source),i(a.form.elements.niche,n.niche||"")}}function b(e){e.preventDefault();const n=new FormData(e.target),t={id:h()};n.forEach((o,c)=>{t[c]=o}),t.youtube_media=t.youtube_media?"Checked":"Unchecked",r.push(t),m("user-data",r),e.target.reset()}function p(e){e.preventDefault();const n=new FormData(e.target),t=r.findIndex(c=>c.id===u),o={...r[t]};delete o.youtube_media,n.forEach((c,l)=>{o[l]=c}),o.youtube_media=o.youtube_media?"Checked":"Unchecked",console.log(o.youtube_media),r.splice(t,1,o),m("user-data",r),e.target.reset()}v();function i(e,n){for(var t=e.options,o=0;o<t.length;o++)if(t[o].value.toLowerCase()===n.toLowerCase()){t[o].selected=!0;break}}function g(e){if(e.code==="ArrowRight"||e.code==="ArrowLeft"){const n=e.code==="ArrowRight"?1:-1;if(d+=n,d<0||d>r.length){d=0;return}u=r[d].id,f(u)}}
//# sourceMappingURL=commonHelpers2.js.map

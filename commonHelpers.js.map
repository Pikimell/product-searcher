{"version":3,"file":"commonHelpers.js","sources":["../src/js/render.js","../src/js/product-list.js","../src/js/filters.js","../src/js/excel.js","../src/js/loadFile.js","../src/js/saveFile.js","../src/main.js"],"sourcesContent":["function productTemplate(product, i) {\n  const validOrders = parseInt(product.orders) > 500;\n  const validPopularity = parseInt(product.popularity) >= 40;\n  const validMedia = product.youtube_media;\n  const isValid = false; //validOrders && validPopularity && validMedia;\n  const myClass = isValid ? 'valid' : 'invalid';\n  return `\n      <tr class=${myClass}>\n        <td>${i + 1 || ''}</td>\n        <td class=\"product-name\">${product.product_name || ''}</td>\n        <td>${product.source || ''}</td>\n\n        <td>\n        ${product.link_1 ? `<a href=\"${product.link_1}\">Store-1</a>` : ''}\n        ${product.link_2 ? `<a href=\"${product.link_2}\">Store-2</a>` : ''}\n        ${product.link_3 ? `<a href=\"${product.link_3}\">Store-3</a>` : ''}\n        </td>\n        \n        <td>${\n          product.supplier_link_1\n            ? `<a href=\"${product.supplier_link_1}\">ALIEXPRESS</a>`\n            : ''\n        }</td>\n        \n        <td class=\"table-border\"></td>\n        <td class=\"number\">${product.orders || ''}</td>\n        <td class=\"number\">${product.popularity || ''}</td>\n        <td class=\"number\">${product.reviews || ''}</td>\n        <td><input type=\"checkbox\" ${product.youtube_media\n          .toString()\n          .toLowerCase()}></td>\n        <td class=\"table-border\"></td>\n\n\n        <td>\n        ${\n          product.supplier_link_1\n            ? `<a href=\"${product.supplier_link_1}\">Store-1</a>`\n            : ''\n        }\n        ${\n          product.supplier_link_2\n            ? `<a href=\"${product.supplier_link_2}\">Store-2</a>`\n            : ''\n        }\n        ${\n          product.supplier_link_3\n            ? `<a href=\"${product.supplier_link_3}\">Store-3</a>`\n            : ''\n        }\n        </td>\n        \n        <td class=\"number\">${product.supplier_price || ''}</td>\n        <td class=\"number\">${product.sale_price || ''}</td>\n        <td class=\"number\">${product.competitor_price || ''}</td>\n        <td class=\"number\">${product.margin || ''}</td>\n        <td>${product.niche || ''}</td>\n        <td class=\"desc\">${product.comments || ''}</td>\n        <td class=\"number\">${getPoints(product) || ''}</td>\n\n        <td class=\"table-border\"></td>\n\n        <td> <button class=\"btn\" data-type=\"edit\" data-id=\"${\n          product.id\n        }\">Edit</button> </td>\n        <td> <button class=\"btn\" data-type=\"delete\" data-id=\"${\n          product.id\n        }\">Delete</button> </td>\n\n      </tr>\n    `;\n}\n\nfunction getPoints(product) {\n  const {\n    orders,\n    popularity,\n    reviews,\n    youtube_media,\n    supplier_price,\n    sale_price,\n  } = product;\n\n  const point1 = Number(orders >= 300 && orders <= 10000);\n  const point2 = Number(popularity >= 50);\n  const point3 = Number(reviews >= 4);\n  const point4 = Number(youtube_media === 'Checked');\n  const point5 = Number(sale_price - supplier_price >= 30);\n  product.points = point1 + point2 + point3 + point4 + point5;\n  return product.points;\n}\n\nexport function productsTemplate(products) {\n  console.log(products);\n  const markup = products.map(productTemplate).join('');\n  localStorage.setItem('user-data', JSON.stringify(products));\n  return markup;\n}\n","import { productsTemplate } from './render';\nimport { saveToLS, loadFromLS } from './helpers';\nconst refs = {\n  tableBody: document.querySelector('tbody'),\n};\nlet tableData = loadFromLS('user-data') || [];\n\nfunction init() {\n  const markup = productsTemplate(tableData);\n  refs.tableBody.innerHTML = markup;\n}\n\ninit();\n\nrefs.tableBody.addEventListener('click', onBtnClick);\n\nfunction onBtnClick(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const type = e.target.dataset.type;\n  if (type === 'delete') {\n    onRemoveClick(e);\n  } else {\n    onEditClick(e);\n  }\n}\n\nfunction onEditClick(e) {\n  const id = e.target.dataset.id;\n  saveToLS('editId', id);\n  const a = document.createElement('a');\n  a.href = './new-product.html';\n  a.click();\n}\nfunction onRemoveClick(e) {\n  const id = e.target.dataset.id;\n  tableData = tableData.filter(el => el.id !== id);\n  saveToLS('user-data', tableData);\n  e.target.parentNode.parentNode.remove();\n}\n","import { productsTemplate } from './render';\nimport { loadFromLS } from './helpers';\n\nconst refs = {\n  sortNicheBtn: document.querySelector('.js-sort-niche'),\n  sortPointBtn: document.querySelector('.js-sort-point'),\n  tableBody: document.querySelector('tbody'),\n};\n\nrefs.sortNicheBtn.addEventListener('click', e => {\n  let tableData = loadFromLS('user-data') || [];\n  tableData.sort((a, b) => {\n    return a.niche.localeCompare(b.niche);\n  });\n  rerender(tableData);\n});\n\nrefs.sortPointBtn.addEventListener('click', e => {\n  let tableData = loadFromLS('user-data') || [];\n  tableData.sort((b, a) => {\n    return a.points - b.points;\n  });\n  rerender(tableData);\n});\n\nfunction rerender(tableData) {\n  const markup = productsTemplate(tableData);\n  refs.tableBody.innerHTML = markup;\n}\n","import * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\nexport function readWorkBook(fileData) {\n  const workbook = XLSX.read(fileData, { type: 'array' });\n  return workbook;\n}\n\nexport function updateCell(workbook, columnName, cellNumber, value) {\n  const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n\n  const cellAddress = columnName + cellNumber;\n\n  if (worksheet[cellAddress]) {\n    worksheet[cellAddress].v = value;\n  } else {\n    createCell(worksheet, cellAddress, value);\n  }\n\n  return workbook;\n}\n\nexport function saveWorkbook(workbook) {\n  const updatedWorkbook = XLSX.write(workbook, {\n    bookType: 'xlsx',\n    type: 'array',\n  });\n\n  const updatedFile = new Blob([updatedWorkbook], {\n    type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  });\n\n  saveAs(updatedFile, 'updated.xlsx');\n  console.log('Файл Excel успешно сохранен!');\n}\n\nexport function getFileData(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n\n    reader.onload = function (event) {\n      const data = new Uint8Array(event.target.result);\n      try {\n        resolve(data);\n      } catch (error) {\n        reject(error);\n      }\n    };\n    reader.readAsArrayBuffer(file);\n  });\n}\n\nfunction createCell(worksheet, cellAddress, value) {\n  let obj;\n  if (typeof value === 'number') {\n    obj = {\n      t: 'n',\n      v: value,\n      w: `${value}`,\n    };\n  } else {\n    obj = {\n      h: `${value}`,\n      r: `<t>${value}</t>`,\n      t: `s`,\n      v: `${value}`,\n      w: `${value}`,\n    };\n  }\n\n  worksheet[cellAddress] = obj;\n}\n\nexport function getCellValue(workbook, cellAddress) {\n  const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n  return worksheet[cellAddress]?.v;\n}\n","import { getCellValue, readWorkBook, getFileData } from './excel';\nimport { v4 as generateID } from 'uuid';\n\nconst START = 5;\nconst COLUMNS = {\n  B: 'product_name',\n  C: 'source',\n  E: 'orders',\n  F: 'popularity',\n  G: 'youtube_media',\n  H: 'reviews',\n  J: 'supplier_price',\n  K: 'sale_price',\n  L: 'competitor_price',\n  M: 'comments',\n  N: 'margin',\n  O: 'niche',\n  P: 'points',\n};\n\nexport async function loadDataFromFile(file) {\n  const fileData = await getFileData(file);\n  const workBook = readWorkBook(fileData);\n  let counter = 0;\n  const data = [];\n  while (counter < 50) {\n    const product = {};\n\n    for (const [key, value] of Object.entries(COLUMNS)) {\n      const COL = key;\n      const ROW = counter * 3 + START;\n      const cell = COL + ROW;\n      product[value] = getCellValue(workBook, cell);\n    }\n\n    for (let index = 0; index < 3; index++) {\n      product[`link_${index + 1}`] = getCellValue(\n        workBook,\n        `D${counter * 3 + START + index}`\n      );\n    }\n\n    for (let index = 0; index < 3; index++) {\n      product[`supplier_link_${index + 1}`] = getCellValue(\n        workBook,\n        `I${counter * 3 + START + index}`\n      );\n    }\n\n    product.id = generateID();\n    console.log(product);\n    if (!product.product_name) break;\n    data.push(product);\n    counter++;\n  }\n\n  return data;\n}\n","import { readWorkBook, getFileData, saveWorkbook, updateCell } from './excel';\n\nconst START = 5;\n\nexport async function saveDataToExcelFile(file, data) {\n  const fileData = await getFileData(file);\n  let workBook = readWorkBook(fileData);\n\n  data.reduce((workBook, product, i) => {\n    workBook = updateCell(workBook, 'A', i * 3 + START, i + 1);\n\n    for (const [key, value] of Object.entries(COLUMNS)) {\n      workBook = updateCell(workBook, key, i * 3 + START, product[value]);\n    }\n\n    for (let index = 0; index < 3; index++) {\n      workBook = updateCell(\n        workBook,\n        'D',\n        i * 3 + START + index,\n        product[`link_${index + 1}`]\n      );\n    }\n\n    return workBook;\n  }, workBook);\n\n  saveWorkbook(workBook);\n}\n\nexport function saveDataToMacros(data) {\n  let resultMacros = data.reduce((result, product, i) => {\n    product.youtube_media = product.youtube_media ? 'Checked' : 'Unchecked';\n\n    for (const [key, value] of Object.entries(COLUMNS)) {\n      if (product[value])\n        result += `Range(\"${key}${i * 3 + START}\").Value = \"${\n          product[value]\n        }\"\\n`;\n    }\n\n    for (let index = 0; index < 3; index++) {\n      result += `Range(\"D${i * 3 + START + index}\").Value = \"${\n        product[`link_${index + 1}`]\n      }\"\\n`;\n    }\n\n    for (let index = 0; index < 3; index++) {\n      if (product[`supplier_link_${index + 1}`]) {\n        const cell = `I${i * 3 + START + index}`;\n        result += `Range(\"${cell}\").Value = \"${\n          product[`supplier_link_${index + 1}`]\n        }\"\\n`;\n      }\n    }\n\n    return result;\n  }, '');\n\n  resultMacros = resultMacros\n    .split('\\n')\n    .filter(el => !el.includes('undefined'))\n    .join('\\n');\n\n  return resultMacros;\n}\n\nconst COLUMNS = {\n  B: 'product_name',\n  C: 'source',\n  E: 'orders',\n  F: 'popularity',\n  G: 'youtube_media',\n  H: 'reviews',\n  I: 'aliexpress',\n  J: 'supplier_price',\n  K: 'sale_price',\n  L: 'competitor_price',\n  M: 'comments',\n  N: 'margin',\n  O: 'niche',\n  P: 'points',\n};\n","import './js/product-list';\nimport './js/filters';\nimport { loadDataFromFile } from './js/loadFile';\nimport { saveDataToExcelFile, saveDataToMacros } from './js/saveFile';\nimport { loadFromLS, saveToLS } from './js/helpers';\nimport { productsTemplate } from './js/render';\nconst refs = {\n  tableBody: document.querySelector('tbody'),\n};\n\nconst saveForm = document.querySelector('.js-save-form');\n\nsaveForm.addEventListener('submit', onSaveFile);\n\nasync function onSaveFile(e) {\n  e.preventDefault();\n  const fileInput = e.target.elements[0];\n  const file = fileInput.files[0];\n  const data = loadFromLS('user-data') || [];\n\n  if (file) {\n    saveDataToExcelFile(file, data);\n  } else {\n    console.error('Файл не выбран');\n  }\n}\n\nconst loadForm = document.querySelector('.js-load-form');\nloadForm.addEventListener('submit', onLoadFile);\nasync function onLoadFile(e) {\n  e.preventDefault();\n  const fileInput = e.target.elements[0];\n  const file = fileInput.files[0];\n\n  if (file) {\n    const data = await loadDataFromFile(file);\n    saveToLS('user-data', data);\n    const markup = productsTemplate(data);\n    refs.tableBody.innerHTML = markup;\n  } else {\n    console.error('Файл не выбран');\n  }\n}\n\nlocalStorage.removeItem('editId');\n\nconst macrosForm = document.querySelector('.js-macros-form');\nmacrosForm.addEventListener('submit', onMacrosSave);\n\nasync function onMacrosSave(e) {\n  e.preventDefault();\n  const resultElem = e.target.elements[0];\n  const data = loadFromLS('user-data') || [];\n  const macros = saveDataToMacros(data);\n  resultElem.value = macros;\n}\n"],"names":["productTemplate","product","i","getPoints","orders","popularity","reviews","youtube_media","supplier_price","sale_price","point1","point2","point3","point4","point5","productsTemplate","products","markup","refs","tableData","loadFromLS","init","onBtnClick","onRemoveClick","onEditClick","id","saveToLS","a","el","b","rerender","readWorkBook","fileData","XLSX.read","updateCell","workbook","columnName","cellNumber","value","worksheet","cellAddress","createCell","saveWorkbook","updatedWorkbook","XLSX.write","updatedFile","saveAs","getFileData","file","resolve","reject","reader","event","data","error","obj","getCellValue","_a","START","COLUMNS","loadDataFromFile","workBook","counter","key","COL","ROW","cell","index","generateID","saveDataToExcelFile","saveDataToMacros","resultMacros","result","saveForm","onSaveFile","loadForm","onLoadFile","macrosForm","onMacrosSave","resultElem","macros"],"mappings":"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"}
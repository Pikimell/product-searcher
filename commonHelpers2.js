import{l as u,s as i}from"./assets/helpers-bd911960.js";import{v as l}from"./assets/vendor-848d50a8.js";const a=u("user-data")||[],s=u("editId"),n={form:document.querySelector(".js-product-form")};function v(){if(!s){n.form.addEventListener("submit",h);return}const e=a.find(r=>r.id===s);if(console.log(e,s),!!e){for(const[r,t]of Object.entries(e))n.form.elements[r]&&(n.form.elements[r].value=t);n.form.elements.youtube_media.checked=e.youtube_media==="Checked",d(n.form.elements.source,e.source),d(n.form.elements.niche,e.niche||""),n.form.elements.btn.textContent="Save Changes",n.form.addEventListener("submit",p)}}function h(e){e.preventDefault();const r=new FormData(e.target),t={id:l()};r.forEach((o,c)=>{t[c]=o}),t.youtube_media=t.youtube_media?"Checked":"Unchecked",a.push(t),i("user-data",a),e.target.reset()}function p(e){e.preventDefault();const r=new FormData(e.target),t=a.findIndex(m=>m.id===s),o={...a[t]};r.forEach((m,f)=>{o[f]=m}),o.youtube_media=o.youtube_media?"Checked":"Unchecked",a.splice(t,1,o),i("user-data",a),localStorage.removeItem("editId");const c=document.createElement("a");c.href="./index.html",c.click()}v();function d(e,r){for(var t=e.options,o=0;o<t.length;o++)if(t[o].value.toLowerCase()===r.toLowerCase()){t[o].selected=!0;break}}
//# sourceMappingURL=commonHelpers2.js.map
